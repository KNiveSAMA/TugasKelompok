<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diskon 30%</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <p>Diskon 30%</p>
</header>

<nav>
    <img src="logo.svg" style="max-width:70px;">
    <div class="hamburger" id="hamburgerBtn">
        <span></span>
        <span></span>
        <span></span>
    </div>
</nav>

<div id="sideMenu" class="side-menu">
    <a href="umum.html">Home</a>
	<a href="index.html">Pesan Tiket</a>
    <a href="profile.html">Profile</a>
    <a href="exchange.html">Exchange</a>
    <a href="about.html">About</a>
    <a id="konfirmasi-link" href="konfirmasi.html" style="display:none;">Konfirmasi</a>
</div>

<div id="overlay"></div>

<div class="grid-layout">

    <article class="article1">

        <h2>Diskon Tiket 30%</h2>

        <p>Anda dapat menukarkan poin untuk mendapatkan potongan harga tiket sebesar <strong>30%</strong>.</p>
        <p>Poin yang dibutuhkan: <strong>300 poin</strong></p>

        <h3 style="margin-top:20px; color:#ffe599;">Syarat dan Ketentuan</h3>

        <ul style="margin-left:20px; margin-top:10px; line-height:1.6;">
            <li>Diskon berlaku untuk satu transaksi pemesanan tiket.</li>
            <li>Poin akan dipotong secara permanen setelah penukaran.</li>
            <li>Tidak berlaku bersamaan dengan promo Lebaran, Natal, dan Tahun Baru.</li>
            <li>Berlaku untuk semua rute dan semua kelas kereta.</li>
            <li>Diskon hanya dapat digunakan oleh akun yang menukarkan poin.</li>
        </ul>

        <button style="margin-top:25px; width:100%;" onclick="tukarDiskon30()">Tukar Sekarang</button>

    </article>

    <article class="article2">
        <h1 style="text-align:center;">Informasi Diskon</h1>
        <p>Diskon 30% adalah pilihan diskon besar yang memberikan penghematan signifikan.</p>
        <p>Ideal untuk perjalanan jarak jauh atau saat ingin menghemat biaya secara maksimal.</p>
    </article>

</div>

<footer>
    About • Help • Services • References
</footer>

<script src="script.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const pesanan = JSON.parse(localStorage.getItem("pesanan"));
    if (pesanan) document.getElementById("konfirmasi-link").style.display = "block";
});

function tukarDiskon30() {
    const user = JSON.parse(localStorage.getItem("user")) || { poin: 0 };
    if (user.poin < 300) {
        alert("Poin tidak mencukupi untuk menukarkan diskon 30%.");
        return;
    }
    user.poin -= 300;
    localStorage.setItem("user", JSON.stringify(user));
    alert("Berhasil menukarkan diskon 30%! Diskon akan diterapkan saat pemesanan.");
    window.location.href = "exchange.html";
}
</script>

</body>
</html>

